<div class="modal-header">
    <h4 class="modal-title">{{ title }}</h4>
    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&#215;</span>
    </button>
</div>
<div class="modal-body" id="generate">
    
</div>

<script>
    var websocket = new WebSocket('{{ websocket }}');
    var generate = document.getElementById('generate');

    websocket.onopen = (event) => {
        generate.innerHTML = `<p>Generating...</p>
        <div class="progress">
            <div class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
        </div>`;
    };

    websocket.onmessage = (event) => {
        generate.innerHTML = `<p class="text-center py-5">${event.data}</p>`;
    };
</script>